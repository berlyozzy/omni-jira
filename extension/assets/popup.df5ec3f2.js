import{h as Be,C as Je}from"./helpers.376a74e8.js";import{S as ae,i as ie,s as le,e as g,t as V,a as S,c as M,b as c,d as q,f as I,g as f,m as D,h as oe,j as ce,l as O,k as Ae,n as Y,o as fe,p as j,q as H,r as W,u as N,v as ne,F as P,w as Ce,x as Le,y as Re,z as ue,A as Se,B as U,C as X,D as pe,E as Ie,G as ge,H as _e,I as We,J as Ee,K as he,L as se,M as ve,N as Me,O as De,P as Ne,Q as qe,R as Oe,T as Pe}from"./vendor.af61f0b6.js";function ke(n,l,s){const t=n.slice();return t[17]=l[s],t}function $e(n,l,s){const t=n.slice();return t[20]=l[s].filter_tag,t[21]=l[s].id,t[17]=l[s].instance,t[22]=l[s].instance_tag,t}function be(n){let l,s,t,e=n[22]+"",o,a,i=n[21]+"",r,d,T=n[20]+"",F,w,y,A,z,m,B,p,$,h;B=new P({props:{icon:ge}});function J(...v){return n[12](n[20],n[21],n[17],n[22],...v)}return{c(){l=g("span"),s=g("div"),t=g("a"),o=V(e),a=V(" - "),r=V(i),d=V(" - "),F=V(T),A=S(),z=g("div"),m=g("button"),M(B.$$.fragment),c(t,"href",w=""+((n[17].endsWith("/")?n[17].slice(0,-1):n[17])+"/issues/?filter="+n[21])),c(t,"target","_blank"),q(t,"align-self","center"),c(t,"class","svelte-17448dd"),c(s,"class","record-contents svelte-17448dd"),c(m,"class","button is-danger is-outlined"),c(z,"class","record-controlls svelte-17448dd"),c(l,"class","record svelte-17448dd")},m(v,b){I(v,l,b),f(l,s),f(s,t),f(t,o),f(t,a),f(t,r),f(t,d),f(t,F),f(l,A),f(l,z),f(z,m),D(B,m,null),p=!0,$||(h=[oe(y=ce.call(null,t,n[11](`${n[17].endsWith("/")?n[17].slice(0,-1):n[17]}/issues/?filter=${n[21]}`))),O(m,"click",Ae(J))],$=!0)},p(v,b){n=v,(!p||b&2)&&e!==(e=n[22]+"")&&Y(o,e),(!p||b&2)&&i!==(i=n[21]+"")&&Y(r,i),(!p||b&2)&&T!==(T=n[20]+"")&&Y(F,T),(!p||b&2&&w!==(w=""+((n[17].endsWith("/")?n[17].slice(0,-1):n[17])+"/issues/?filter="+n[21])))&&c(t,"href",w),y&&fe(y.update)&&b&2&&y.update.call(null,n[11](`${n[17].endsWith("/")?n[17].slice(0,-1):n[17]}/issues/?filter=${n[21]}`))},i(v){p||(j(B.$$.fragment,v),p=!0)},o(v){H(B.$$.fragment,v),p=!1},d(v){v&&W(l),N(B),$=!1,ne(h)}}}function we(n){let l,s=n[17]+"",t,e,o,a;return{c(){l=g("span"),t=V(s),e=S(),c(l,"class","dropdown-item is-clickable svelte-17448dd")},m(i,r){I(i,l,r),f(l,t),f(l,e),o||(a=O(l,"click",n[8]),o=!0)},p(i,r){r&8&&s!==(s=i[17]+"")&&Y(t,s)},d(i){i&&W(l),o=!1,a()}}}function Ve(n){let l,s,t,e,o,a,i,r,d,T,F,w,y,A,z,m,B,p,$,h,J,v,b,_,L,ee,G,Z,re,K,de,me,Q=n[1],C=[];for(let u=0;u<Q.length;u+=1)C[u]=be($e(n,Q,u));const He=u=>H(C[u],1,1,()=>{C[u]=null});w=new P({props:{icon:Ce}});let x=n[3],E=[];for(let u=0;u<x.length;u+=1)E[u]=we(ke(n,x,u));return L=new P({props:{icon:Le}}),Z=new P({props:{icon:Re}}),{c(){l=g("div");for(let u=0;u<C.length;u+=1)C[u].c();s=S(),t=g("span"),e=g("div"),o=g("div"),a=g("div"),i=g("button"),r=g("span"),d=V(n[5]),T=S(),F=g("span"),M(w.$$.fragment),y=S(),A=g("div"),z=g("div");for(let u=0;u<E.length;u+=1)E[u].c();B=S(),p=g("input"),$=S(),h=g("div"),J=g("p"),v=g("input"),b=S(),_=g("span"),M(L.$$.fragment),ee=S(),G=g("button"),M(Z.$$.fragment),q(r,"text-overflow","ellipsis"),q(r,"overflow","hidden"),c(F,"class","icon is-small"),c(i,"class","button"),q(i,"width","100%"),c(i,"aria-haspopup","true"),c(i,"aria-controls","dropdown-menu"),c(a,"class","dropdown-trigger"),q(a,"width","100%"),c(z,"class","dropdown-content"),c(A,"class","dropdown-menu svelte-17448dd"),c(A,"id","dropdown-menu"),c(A,"role","menu"),c(o,"class",m="dropdown "+(n[4]?"is-active":"")),c(p,"class","input"),c(p,"type","text"),c(p,"placeholder","ID"),c(v,"class","input"),c(v,"type","text"),c(v,"placeholder","Tag"),c(_,"class","icon is-small is-left"),c(J,"class","control has-icons-left"),c(h,"class","field"),c(e,"class","new-record-contents svelte-17448dd"),c(G,"class","button is-primary is-outlined"),G.disabled=re=n[2].length==0,c(t,"class","record svelte-17448dd"),q(t,"gap","5px"),q(t,"padding-left","5px"),q(t,"padding-right","5px"),c(l,"class","view svelte-17448dd")},m(u,R){I(u,l,R);for(let k=0;k<C.length;k+=1)C[k].m(l,null);f(l,s),f(l,t),f(t,e),f(e,o),f(o,a),f(a,i),f(i,r),f(r,d),f(i,T),f(i,F),D(w,F,null),f(o,y),f(o,A),f(A,z);for(let k=0;k<E.length;k+=1)E[k].m(z,null);n[14](o),f(e,B),f(e,p),ue(p,n[6]),f(e,$),f(e,h),f(h,J),f(J,v),ue(v,n[7]),f(J,b),f(J,_),D(L,_,null),f(t,ee),f(t,G),D(Z,G,null),K=!0,de||(me=[O(i,"click",n[13]),O(p,"input",n[15]),O(v,"input",n[16]),O(G,"click",Se(n[9]))],de=!0)},p(u,[R]){if(R&3074){Q=u[1];let k;for(k=0;k<Q.length;k+=1){const te=$e(u,Q,k);C[k]?(C[k].p(te,R),j(C[k],1)):(C[k]=be(te),C[k].c(),j(C[k],1),C[k].m(l,s))}for(U(),k=Q.length;k<C.length;k+=1)He(k);X()}if((!K||R&32)&&Y(d,u[5]),R&264){x=u[3];let k;for(k=0;k<x.length;k+=1){const te=ke(u,x,k);E[k]?E[k].p(te,R):(E[k]=we(te),E[k].c(),E[k].m(z,null))}for(;k<E.length;k+=1)E[k].d(1);E.length=x.length}(!K||R&16&&m!==(m="dropdown "+(u[4]?"is-active":"")))&&c(o,"class",m),R&64&&p.value!==u[6]&&ue(p,u[6]),R&128&&v.value!==u[7]&&ue(v,u[7]),(!K||R&4&&re!==(re=u[2].length==0))&&(G.disabled=re)},i(u){if(!K){for(let R=0;R<Q.length;R+=1)j(C[R]);j(w.$$.fragment,u),j(L.$$.fragment,u),j(Z.$$.fragment,u),K=!0}},o(u){C=C.filter(Boolean);for(let R=0;R<C.length;R+=1)H(C[R]);H(w.$$.fragment,u),H(L.$$.fragment,u),H(Z.$$.fragment,u),K=!1},d(u){u&&W(l),pe(C,u),N(w),pe(E,u),n[14](null),N(L),N(Z),de=!1,ne(me)}}}function Ge(n,l,s){let t,e=[],o=[],a=[],i=!1,r="",d="",T="";chrome.storage.sync.get(["JiraFilters"],function({JiraFilters:h}){s(1,e=h==null?[]:h),e.length==0&&chrome.storage.sync.set({JiraFilters:e})}),chrome.storage.sync.get(["JiraInstances"],function({JiraInstances:h}){s(2,o=h==null?[]:h),o.length==0?chrome.storage.sync.set({JiraInstances:o}):(s(3,a=o.map(J=>J.description)),s(5,r=a[0].trim()))});const F=({target:{textContent:h}})=>{r.trim()!=h.trim()&&s(5,r=h.trim()),s(4,i=!1)},w=()=>{const h=o.find(({description:b})=>b.trim()==r.trim()),{content:J}=h,v={instance:J.endsWith("/")?J.slice(0,-1):J,instance_tag:r.trim(),id:d,filter_tag:T};e.push(v),s(6,d=""),s(7,T=""),chrome.storage.sync.set({JiraFilters:e}),s(1,e),_e.push("Filter Added \u{1F4DD}")},y=({instance:h,id:J,instance_tag:v,filter_tag:b})=>{const _=e.findIndex(L=>L.id===J&&L.instance_tag===v&&L.instance===h&&L.filter_tag===b);e.splice(_,1),chrome.storage.sync.set({JiraFilters:e}),s(1,e),_e.push("Filter Removed \u{1F4DD}")};Ie(()=>{window.addEventListener("click",({target:h})=>{i&&!t.contains(h)&&s(4,i=!1)})});const A=h=>({content:h,placement:"bottom",delay:[1e3,200]}),z=(h,J,v,b,_)=>y({filter_tag:h,id:J,instance:v,instance_tag:b}),m=h=>s(4,i=!i);function B(h){We[h?"unshift":"push"](()=>{t=h,s(0,t)})}function p(){d=this.value,s(6,d)}function $(){T=this.value,s(7,T)}return[t,e,o,a,i,r,d,T,F,w,y,A,z,m,B,p,$]}class Ke extends ae{constructor(l){super();ie(this,l,Ge,Ve,le,{})}}function ye(n,l,s){const t=n.slice();return t[4]=l[s].text,t[5]=l[s].copy,t[6]=l[s].external,t}function Qe(n){let l,s=n[4]+"",t;return{c(){l=new De,t=he(),l.a=t},m(e,o){l.m(s,e,o),I(e,t,o)},p(e,o){o&2&&s!==(s=e[4]+"")&&l.p(s)},d(e){e&&W(t),e&&l.d()}}}function Ye(n){let l,s=n[4]+"",t;return{c(){l=g("a"),c(l,"href",t=n[5]),c(l,"target","_blank"),q(l,"align-self","center"),q(l,"color","inherit")},m(e,o){I(e,l,o),l.innerHTML=s},p(e,o){o&2&&s!==(s=e[4]+"")&&(l.innerHTML=s),o&2&&t!==(t=e[5])&&c(l,"href",t)},d(e){e&&W(l)}}}function Ue(n){let l=n[0],s,t,e=ze(n);return{c(){e.c(),s=he()},m(o,a){e.m(o,a),I(o,s,a),t=!0},p(o,a){a&1&&le(l,l=o[0])?(U(),H(e,1,1,se),X(),e=ze(o),e.c(),j(e),e.m(s.parentNode,s)):e.p(o,a)},i(o){t||(j(e),t=!0)},o(o){H(e),t=!1},d(o){o&&W(s),e.d(o)}}}function Xe(n){let l,s,t;return s=new P({props:{icon:ve}}),{c(){l=g("span"),M(s.$$.fragment),c(l,"class","icon has-text-link"),q(l,"place-self","center")},m(e,o){I(e,l,o),D(s,l,null),t=!0},p:se,i(e){t||(j(s.$$.fragment,e),t=!0)},o(e){H(s.$$.fragment,e),t=!1},d(e){e&&W(l),N(s)}}}function ze(n){let l,s,t,e;return s=new P({props:{icon:Me}}),{c(){l=g("span"),M(s.$$.fragment),c(l,"class",t="icon copy "+(n[0]==n[5]?"has-text-primary":"")+" svelte-1juzjao"),q(l,"place-self","center")},m(o,a){I(o,l,a),D(s,l,null),e=!0},p(o,a){(!e||a&3&&t!==(t="icon copy "+(o[0]==o[5]?"has-text-primary":"")+" svelte-1juzjao"))&&c(l,"class",t)},i(o){e||(j(s.$$.fragment,o),e=!0)},o(o){H(s.$$.fragment,o),e=!1},d(o){o&&W(l),N(s)}}}function je(n){let l,s,t,e,o,a,i,r,d,T;function F(p,$){return p[6]?Ye:Qe}let w=F(n),y=w(n);const A=[Xe,Ue],z=[];function m(p,$){return p[6]?0:1}e=m(n),o=z[e]=A[e](n);function B(...p){return n[3](n[6],n[5],...p)}return{c(){l=g("span"),s=g("div"),y.c(),t=S(),o.c(),a=S(),c(s,"class","record-contents svelte-1juzjao"),c(l,"class","record is-clickable svelte-1juzjao")},m(p,$){I(p,l,$),f(l,s),y.m(s,null),f(l,t),z[e].m(l,null),f(l,a),r=!0,d||(T=[oe(i=ce.call(null,l,n[2](n[5]))),O(l,"click",B)],d=!0)},p(p,$){n=p,w===(w=F(n))&&y?y.p(n,$):(y.d(1),y=w(n),y&&(y.c(),y.m(s,null)));let h=e;e=m(n),e===h?z[e].p(n,$):(U(),H(z[h],1,1,()=>{z[h]=null}),X(),o=z[e],o?o.p(n,$):(o=z[e]=A[e](n),o.c()),j(o,1),o.m(l,a)),i&&fe(i.update)&&$&2&&i.update.call(null,n[2](n[5]))},i(p){r||(j(o),r=!0)},o(p){H(o),r=!1},d(p){p&&W(l),y.d(),z[e].d(),d=!1,ne(T)}}}function Ze(n){let l,s,t=n[1],e=[];for(let a=0;a<t.length;a+=1)e[a]=je(ye(n,t,a));const o=a=>H(e[a],1,1,()=>{e[a]=null});return{c(){l=g("div");for(let a=0;a<e.length;a+=1)e[a].c();c(l,"class","view svelte-1juzjao")},m(a,i){I(a,l,i);for(let r=0;r<e.length;r+=1)e[r].m(l,null);s=!0},p(a,[i]){if(i&7){t=a[1];let r;for(r=0;r<t.length;r+=1){const d=ye(a,t,r);e[r]?(e[r].p(d,i),j(e[r],1)):(e[r]=je(d),e[r].c(),j(e[r],1),e[r].m(l,null))}for(U(),r=t.length;r<e.length;r+=1)o(r);X()}},i(a){if(!s){for(let i=0;i<t.length;i+=1)j(e[i]);s=!0}},o(a){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)H(e[i]);s=!1},d(a){a&&W(l),pe(e,a)}}}function xe(n,l,s){let t;Ee(n,Be,i=>s(1,t=i));let e="";return[e,t,i=>({content:i,placement:"bottom",delay:[1e3,200]}),(i,r,d)=>{i||(Je(r),s(0,e=r),_e.push("Copied \u{1F4DD}"))}]}class et extends ae{constructor(l){super();ie(this,l,xe,Ze,le,{})}}function Te(n,l,s){const t=n.slice();return t[4]=l[s].title,t[5]=l[s].url,t[7]=s,t}function tt(n){let l;return{c(){l=g("p"),l.textContent="You haven't visited any Jira tickets just yet!",c(l,"class","empty svelte-1gzg1zk")},m(s,t){I(s,l,t)},p:se,i:se,o:se,d(s){s&&W(l)}}}function lt(n){let l,s,t=n[0],e=[];for(let a=0;a<t.length;a+=1)e[a]=Fe(Te(n,t,a));const o=a=>H(e[a],1,1,()=>{e[a]=null});return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=he()},m(a,i){for(let r=0;r<e.length;r+=1)e[r].m(a,i);I(a,l,i),s=!0},p(a,i){if(i&7){t=a[0];let r;for(r=0;r<t.length;r+=1){const d=Te(a,t,r);e[r]?(e[r].p(d,i),j(e[r],1)):(e[r]=Fe(d),e[r].c(),j(e[r],1),e[r].m(l.parentNode,l))}for(U(),r=t.length;r<e.length;r+=1)o(r);X()}},i(a){if(!s){for(let i=0;i<t.length;i+=1)j(e[i]);s=!0}},o(a){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)H(e[i]);s=!1},d(a){pe(e,a),a&&W(l)}}}function Fe(n){let l,s,t,e,o=n[4]+"",a,i,r,d,T,F,w=n[5]+"",y,A,z,m,B,p,$,h,J;e=new P({props:{icon:ve}}),B=new P({props:{icon:ge}});function v(...b){return n[3](n[7],...b)}return{c(){l=g("span"),s=g("div"),t=g("a"),M(e.$$.fragment),a=V(o),T=S(),F=g("p"),y=V(w),z=S(),m=g("button"),M(B.$$.fragment),p=S(),c(t,"href",i=n[5]),c(t,"rel",r=n[4]),c(t,"target","_blank"),c(t,"class","svelte-1gzg1zk"),c(F,"class","link svelte-1gzg1zk"),c(s,"class","record-contents svelte-1gzg1zk"),c(m,"class","button is-danger is-outlined"),q(m,"height","100%"),c(l,"class","record svelte-1gzg1zk")},m(b,_){I(b,l,_),f(l,s),f(s,t),D(e,t,null),f(t,a),f(s,T),f(s,F),f(F,y),f(l,z),f(l,m),D(B,m,null),f(l,p),$=!0,h||(J=[oe(d=ce.call(null,t,n[2](n[4]))),oe(A=ce.call(null,F,n[2](n[5]))),O(m,"click",v)],h=!0)},p(b,_){n=b,(!$||_&1)&&o!==(o=n[4]+"")&&Y(a,o),(!$||_&1&&i!==(i=n[5]))&&c(t,"href",i),(!$||_&1&&r!==(r=n[4]))&&c(t,"rel",r),d&&fe(d.update)&&_&1&&d.update.call(null,n[2](n[4])),(!$||_&1)&&w!==(w=n[5]+"")&&Y(y,w),A&&fe(A.update)&&_&1&&A.update.call(null,n[2](n[5]))},i(b){$||(j(e.$$.fragment,b),j(B.$$.fragment,b),$=!0)},o(b){H(e.$$.fragment,b),H(B.$$.fragment,b),$=!1},d(b){b&&W(l),N(e),N(B),h=!1,ne(J)}}}function nt(n){let l,s,t,e;const o=[lt,tt],a=[];function i(r,d){return r[0].length!=0?0:1}return s=i(n),t=a[s]=o[s](n),{c(){l=g("div"),t.c(),c(l,"class","view svelte-1gzg1zk")},m(r,d){I(r,l,d),a[s].m(l,null),e=!0},p(r,[d]){let T=s;s=i(r),s===T?a[s].p(r,d):(U(),H(a[T],1,1,()=>{a[T]=null}),X(),t=a[s],t?t.p(r,d):(t=a[s]=o[s](r),t.c()),j(t,1),t.m(l,null))},i(r){e||(j(t),e=!0)},o(r){H(t),e=!1},d(r){r&&W(l),a[s].d()}}}function st(n,l,s){let t=[];chrome.storage.sync.get(["JiraVisited"],function({JiraVisited:i}){s(0,t=i==null?[]:i),t.length==0?chrome.storage.sync.set({JiraVisited:t}):s(0,t)});const e=i=>{t.splice(i,1),chrome.storage.sync.set({JiraVisited:t}),s(0,t),_e.push("Removed from History \u{1F4DD}")};return[t,e,i=>({content:i,placement:"bottom",delay:[1e3,200]}),(i,r)=>e(i)]}class rt extends ae{constructor(l){super();ie(this,l,st,nt,le,{})}}function at(n){let l,s,t,e,o,a,i,r,d,T,F,w,y,A,z,m,B,p,$,h,J;e=new P({props:{icon:Ne}}),r=new P({props:{icon:qe}}),w=new P({props:{icon:Oe}});var v=n[1][n[0]];function b(_){return{}}return v&&(m=new v(b())),p=new Pe({props:{options:n[2]}}),{c(){l=g("main"),s=g("div"),t=g("span"),M(e.$$.fragment),a=S(),i=g("span"),M(r.$$.fragment),T=S(),F=g("span"),M(w.$$.fragment),A=S(),z=g("div"),m&&M(m.$$.fragment),B=S(),M(p.$$.fragment),c(t,"class",o="icon view is-clickable "+(n[0]=="history"?"selected has-text-primary":"")+" svelte-1kvw187"),c(i,"class",d="icon view is-clickable "+(n[0]=="filters"?"selected has-text-primary":"")+" svelte-1kvw187"),c(F,"class",y="icon view is-clickable "+(n[0]=="help"?"selected has-text-primary":"")+" svelte-1kvw187"),c(s,"class","popup-header svelte-1kvw187"),c(z,"class","popup-content svelte-1kvw187"),c(l,"class","svelte-1kvw187")},m(_,L){I(_,l,L),f(l,s),f(s,t),D(e,t,null),f(s,a),f(s,i),D(r,i,null),f(s,T),f(s,F),D(w,F,null),f(l,A),f(l,z),m&&D(m,z,null),I(_,B,L),D(p,_,L),$=!0,h||(J=[O(t,"click",n[3]),O(i,"click",n[4]),O(F,"click",n[5])],h=!0)},p(_,[L]){if((!$||L&1&&o!==(o="icon view is-clickable "+(_[0]=="history"?"selected has-text-primary":"")+" svelte-1kvw187"))&&c(t,"class",o),(!$||L&1&&d!==(d="icon view is-clickable "+(_[0]=="filters"?"selected has-text-primary":"")+" svelte-1kvw187"))&&c(i,"class",d),(!$||L&1&&y!==(y="icon view is-clickable "+(_[0]=="help"?"selected has-text-primary":"")+" svelte-1kvw187"))&&c(F,"class",y),v!==(v=_[1][_[0]])){if(m){U();const ee=m;H(ee.$$.fragment,1,0,()=>{N(ee,1)}),X()}v?(m=new v(b()),M(m.$$.fragment),j(m.$$.fragment,1),D(m,z,null)):m=null}},i(_){$||(j(e.$$.fragment,_),j(r.$$.fragment,_),j(w.$$.fragment,_),m&&j(m.$$.fragment,_),j(p.$$.fragment,_),$=!0)},o(_){H(e.$$.fragment,_),H(r.$$.fragment,_),H(w.$$.fragment,_),m&&H(m.$$.fragment,_),H(p.$$.fragment,_),$=!1},d(_){_&&W(l),N(e),N(r),N(w),m&&N(m),_&&W(B),N(p,_),h=!1,ne(J)}}}function it(n,l,s){let t="history";return[t,{filters:Ke,help:et,history:rt},{duration:1e3,initial:1,next:0,theme:{"--toastBackground":"#00d1b2","--toastBarBackground":"#ebfffc"}},d=>s(0,t="history"),d=>s(0,t="filters"),d=>s(0,t="help")]}class ot extends ae{constructor(l){super();ie(this,l,it,at,le,{})}}new ot({target:document.body});
